!function(o){o.fn.moreInfoPopup=function(e,r,n){var p=o.extend(!0,{},o.fn.moreInfoPopup.defaults,n),t=this;p._wrapper="."+p.wrapper,p._arrow="."+p.arrow,p._body="."+p.body,p._content="."+p.content;var a=function(o,e){return o.outerHeight()+(o.offset().top-e.offset().top)},i=function(){p.$wrapper=o(p._wrapper),p.$arrow=o(p._arrow),p.$body=o(p._body),p.$content=o(p._content)},s=function(){p.timeline=new TimelineMax({paused:!0,onReverseComplete:function(){p.$wrapper.css("top",0),p.$wrapper.removeData("rowIndex")}}).fromTo(p.$wrapper,p.animation.speed,p.animation.from,p.animation.to)},c=function(){t.prepend(o("<div/>",{class:p.wrapper}).append(o("<div/>",{class:p.arrow})).append(o("<div/>",{class:p.body}).append(o("<p/>",{class:p.content}))))};t.on("click.moreInfoPopup",e,function(n){var i=r.call(this),s=a(o(this),t);p.$wrapper.data("rowIndex",o(this).index(e)),parseFloat(p.$wrapper.css("top"))!==s&&i.length?(p.$wrapper.css("top",s+"px"),p.$content.html(i.html()),p.timeline.restart(),n.stopPropagation(),o(document).one("click",function(r){o(r.target).is(e)||p.timeline.reverse()})):p.timeline.reverse()}),o(window).on("resize.moreInfoPopup",function(){if(void 0!==(rowIndex=p.$wrapper.data("rowIndex"))){var r=o(e).eq(rowIndex),n=a(r,t);parseFloat(p.$wrapper.css("top"))!==n&&p.$wrapper.css("top",n+"px")}});return function(){return t.find(p._wrapper).length||c(),i(),s(),this}()},o.fn.moreInfoPopup.defaults={wrapper:"more-info-popup",arrow:"more-info-popup__arrow",body:"more-info-popup__body",content:"more-info-popup__content",animation:{speed:.3,from:{yPercent:-20,autoAlpha:0},to:{yPercent:0,autoAlpha:1}}}}(jQuery);
